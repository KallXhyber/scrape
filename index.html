<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XY-DARK OS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #000; font-family: 'Courier New', Courier, monospace; }
        .os-border { border: 1px solid #1a1a1a; box-shadow: 0 0 20px rgba(59, 130, 246, 0.1); }
        .glass { background: rgba(10, 10, 10, 0.8); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="text-zinc-400 flex items-center justify-center min-h-screen p-6">
    <div class="glass os-border p-8 rounded-lg w-full max-w-lg relative overflow-hidden">
        <div class="flex items-center gap-2 mb-8 border-b border-zinc-800 pb-4">
            <div class="w-3 h-3 rounded-full bg-red-500/50"></div>
            <div class="w-3 h-3 rounded-full bg-yellow-500/50"></div>
            <div class="w-3 h-3 rounded-full bg-green-500/50"></div>
            <span class="ml-4 text-[10px] uppercase tracking-[0.3em] text-blue-500 font-bold">XY-SYSTEMS :: CORE_EXTRACTOR</span>
        </div>

        <div class="space-y-6">
            <div>
                <label class="block text-[10px] uppercase mb-2 text-zinc-600 tracking-widest">Target Breach URL</label>
                <input type="text" id="targetUrl" placeholder="https://..." 
                    class="w-full p-4 rounded bg-black border border-zinc-800 focus:border-blue-600 text-blue-400 outline-none transition-all">
            </div>

            <button id="btnExecute" class="w-full py-4 bg-zinc-900 hover:bg-blue-900/20 border border-zinc-800 hover:border-blue-500 text-blue-500 rounded font-black tracking-[0.4em] transition-all active:scale-95">
                EXECUTE_HUNT
            </button>
        </div>

        <div id="status" class="mt-8 text-[10px] font-mono text-zinc-700 uppercase leading-loose">
            [SYS] Waiting for signal...<br>
            [LOG] PoweredBy Kall & XyTeam
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = { databaseURL: "https://kall-e4441-default-rtdb.asia-southeast1.firebasedatabase.app" };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        document.getElementById('btnExecute').addEventListener('click', async () => {
            const url = document.getElementById('targetUrl').value;
            const status = document.getElementById('status');

            if(!url) return alert("URL REQUIRED, YANG MULIA!");

            // Otorun naming: ambil domain dari URL
            const domain = new URL(url).hostname.replace(/\./g, '_');
            
            status.innerHTML += `<br><span class="text-blue-500">[INF] INITIATING BREACH: ${domain}</span>`;
            
            try {
                await set(ref(db, 'scraper/request'), {
                    path: `auto/${domain}`,
                    target: url,
                    timestamp: Date.now()
                });
                status.innerHTML += `<br><span class="text-green-500">[OK] SIGNAL SENT TO CLOUD PC</span>`;
            } catch (e) {
                status.innerHTML += `<br><span class="text-red-500">[ERR] TRANSMISSION FAILED</span>`;
            }
        });
    </script>
</body>
</html>
